{"version":3,"sources":["webpack/bootstrap 087a0feec812d97eb3d6","./assets/js/rhythm.js","./assets/js/game.js","./assets/js/note.js","./assets/js/key.js","./assets/js/score.js","./assets/js/gameView.js"],"names":[],"mappings":";AAAA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,uBAAe;AACf;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;;;;;;ACtCA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAC;;AAED;;;;;;;ACZA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,eAAc;;AAEd;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA,IAAG;AACH;;AAEA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;;;;;;ACpGA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;;;;;;ACjBA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;AChBA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA,IAAG;AACH;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;;AAEA;;;;;;;ACtGA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;;AAEA;AACA;AACA;;AAEA","file":"./bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n/** WEBPACK FOOTER **\n ** webpack/bootstrap 087a0feec812d97eb3d6\n **/","var Game = require('./game.js')\nvar GameView = require('./gameView')\n\ndocument.addEventListener(\"DOMContentLoaded\", function(){\n  var canvasEl = document.getElementById(\"canvas\")\n  canvasEl.width = Game.DIM_X;\n  canvasEl.height = Game.DIM_Y;\n  var ctx = canvasEl.getContext(\"2d\");\n  var game = new Game();\n  new GameView(game,ctx).startScreen();\n})\n\nwindow.GameView = GameView;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./assets/js/rhythm.js\n ** module id = 0\n ** module chunks = 0\n **/","var Note = require('./note');\nvar Key = require('./key');\nvar Score = require('./score')\n\nfunction Game(){\n  this.keys = [];\n  this.notes = [];\n  this.score = 0;\n  this.song = new Score(this)\n  this.setUp();\n  document.addEventListener(\"keydown\", this.keyDownTextField.bind(this), false);\n}\n\nGame.DIM_X = 550;\nGame.DIM_Y = 800;\nGame.NOTELANE = [100,215,330,445];\nGame.KEY = [100,215,330,445];\nGame.MOVES = [\"q\",\"w\",\"e\",\"r\"];\nGame.KEYCODE = [81,87,69,82]\nGame.COMBO = {81:\"q\",87:\"w\",69:\"e\",82:\"r\"}\n\nGame.prototype.draw = function(ctx){\n  ctx.clearRect(0,0,Game.DIM_X,Game.DIM_Y)\n  ctx.drawImage(bg,0,0,Game.DIM_X,Game.DIM_Y)\n  ctx.font = \"30px Lato\"\n  ctx.fillStyle = '#ffffb3';\n  ctx.fillText(\"Score: \" + this.score, 10, 30);\n  this.keys.forEach(function(key){\n    key.draw(ctx)\n    key.pos[1] = Game.DIM_Y - 100;\n  })\n  this.notes.forEach(function(notes){\n    notes.draw(ctx)\n  })\n}\n\nGame.prototype.move = function(){\n  this.notes.forEach(function(notes){\n    notes.move()\n  })\n}\nGame.prototype.setUp = function(ctx){\n  Game.KEY.forEach(function(pos,idx){\n    this.keys.push(new Key(pos,Game.MOVES[idx],idx))\n  }.bind(this))\n}\nGame.prototype.addNotes = function(songTime){\n  this.song.addNotes(songTime);\n}\n\nGame.prototype.notesOutOfBound = function(){\n  var that = this;\n  this.notes.forEach(function(note,index){\n    if(note.pos[1]>Game.DIM_Y){\n      that.notes.splice(index,1)\n    }\n  })\n}\nGame.prototype.checkCollison = function(keyCode){\n  var buttonPressed = Game.COMBO[keyCode]\n  var key_index = Game.MOVES.indexOf(buttonPressed)\n  this.hit(key_index)\n}\n\nGame.prototype.hit = function(key_index){\n  var that = this;\n  var initial_height = this.keys[0].pos[1];\n  var final_height = initial_height + this.keys[0].dim_y;\n  this.notes.forEach(function(note,index){\n  var nintypercent = note.diameter * .95\n  var tenpercent = note.diameter * .35\n  var note_index = Game.NOTELANE.indexOf(note.pos[0])\n    if(key_index === note_index){\n      if(note.pos[1] > 700 + tenpercent\n            || note.pos[1] > final_height - tenpercent){\n              that.score+=100\n              that.notes.splice(index,1)\n        }\n      }\n    })\n  }\n\nGame.prototype.keyDownTextField = function(e){\n  var keyCode = e.keyCode;\n  if(Game.KEYCODE.includes(keyCode)){\n    var whichkey = Game.COMBO[keyCode]\n    this.keys.forEach(function(key){\n      if(key.move === whichkey){\n        key.pos[1] = key.pos[1] + 4\n      }\n    })\n    this.checkCollison(keyCode)\n  }\n}\n\nGame.prototype.step = function(){\n  this.move();\n  this.notesOutOfBound();\n}\n\nmodule.exports = Game;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./assets/js/game.js\n ** module id = 1\n ** module chunks = 0\n **/","function Note(pos,idx){\n  this.pos = [pos,0]\n  this.diameter = 40;\n  this.idx = idx;\n}\n\nNote.ARROW = [\"left\",\"down\",\"right\",\"up\"]\n\nNote.prototype.draw = function(ctx){\n  var note = document.getElementById(Note.ARROW[this.idx])\n    ctx.drawImage(note,65,0,63,64,this.pos[0],this.pos[1],95,95);\n}\n\nNote.prototype.move = function(){\n  this.pos[1] = this.pos[1] + 3;\n}\n\nmodule.exports = Note\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./assets/js/note.js\n ** module id = 2\n ** module chunks = 0\n **/","function Key(pos,move,idx){\n  this.pos = [pos,600];\n  this.move = move;\n  this.dim_y = 10;\n  this.idx = idx\n}\n\nKey.CANVAS_POS = [0,215,445,660];\nvar progress = 0;\n\nKey.prototype.draw = function(ctx){\n  var arrow = new Image();\n  arrow.src = \"../pictures/arrow_buttons.png\"\n  ctx.drawImage(arrow,Key.CANVAS_POS[this.idx],0,210,210,this.pos[0],this.pos[1],100,100);\n}\n\nmodule.exports = Key;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./assets/js/key.js\n ** module id = 3\n ** module chunks = 0\n **/","var Note = require('./note');\nvar Game = require('./game');\n\nfunction Score(game){\n  this.bar = 0;\n  this.game = game;\n}\n\nScore.NOTELANE = [100,215,330,445];\n\nfunction sort(array){\n  var array2 = []\n  array.forEach(function(point){\n    array2.push(Math.round(point*10)/10)\n  })\n  array2.map(function(each){\n    return [each,1]\n  })\n  return array2\n}\n\nScore.SONG = [\n  [1.8,0],\n  [3.1,0],\n  [4.4,0],\n  [5.8,0],\n  [5.8,1],\n  [7.1,0],\n  [8.5,0],\n  [9.9,0],\n  [11.2,0],\n  [11.2,1],\n  [12.6,2],\n  [13.9,3],\n  [15.3,0],\n  [16.6,0],\n  [16.6,3],\n  [18.1,1],\n  [18.1,2],\n  [19.4,1],\n  [19.4,2],\n  [20.8,0],\n  [22.2,0],\n  [23.6,1],\n  [24.9,2],\n  [26.3,3],\n  [27.6,3],\n  [27.6,0],\n  [28.9,2],\n  [28.9,1],\n  [30.3,1],\n  [30.3,2],\n  [31.7,0],\n  [33.1,0],\n  [34.5,1],\n  [35.8,2],\n  [37.2,3],\n  [38.5,3],\n  [38.5,2],\n  [39.2,2],\n  [39.2,1],\n  [39.9,1],\n  [39.9,0],\n  [40.6,0],\n  [41.4,1],\n  [42.6,2],\n  [44,3],\n  [45.4,1],\n  [46.7,2],\n  [48.1,3],\n  [49.4,2],\n  [49.4,3],\n  [50.1,2],\n  [50.1,3],\n  [50.8,2],\n  [50.8,3],\n  [52.2,0],\n  [53.6,1],\n  [54.9,2],\n  [56.3,3],\n  [57.6,0],\n  [59,1],\n  [60.3,2],\n  [61,3],\n  [61.7,0],\n  [63.1,1],\n  [63.1,2],\n  [65.2,3],\n  [65.2,3],\n  [67.9,3]\n]\n\nScore.prototype.addNotes = function(songTime){\n  var collection = []\n  Score.SONG.forEach(function(pair){\n    if(pair[0] === songTime){\n      collection.push(new Note(Score.NOTELANE[pair[1]],pair[1]))\n    }\n  })\n  this.game.notes = this.game.notes.concat(collection)\n}\n\nmodule.exports = Score;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./assets/js/score.js\n ** module id = 4\n ** module chunks = 0\n **/","var Game = require('./game')\n\nfunction GameView(game,ctx){\n  this.game = game;\n  this.ctx = ctx;\n  this.keys = this.game.keys;\n  this.page = 1;\n  this.startTime = 0;\n  this.setUpListeners()\n}\n\nGameView.MOVES = [\"q\",\"w\",\"e\",\"r\"];\n\nGameView.prototype.run = function(){\n  var timer = window.setInterval(function(){\n    songTime = new Date().getTime()/1000 - this.startTime\n    songTime = Math.round(songTime*10)/10\n    this.game.addNotes(songTime)\n    if(songTime === 70){\n      this.page = 3;\n      clearInterval(timer)\n      document.getElementById('music').pause()\n      document.getElementById('music').currentTime = 0;\n    }\n  }.bind(this),100)\n  frameID = requestAnimationFrame(this.animate.bind(this));\n}\n\nGameView.prototype.animate = function(){\n  var that = this;\n  switch(this.page){\n    case 1:\n      cancelAnimationFrame(frameID)\n      return;\n      break;\n\n    case 2:\n        this.game.draw(this.ctx);\n        that.game.step()\n      break;\n\n    case 3:\n      this.ctx.clearRect(0, 0, 800, 900);\n      this.ctx.font = \"40px Lato\";\n      this.ctx.fillText(\"Thank You For Playing\", 90, 250);\n      this.ctx.fillText(\"Your Score:\",150,350)\n      this.ctx.fillText(this.game.score,350,350)\n      this.ctx.fillStyle = \"black\";\n      this.retryButton.className = \"show\";\n      this.game.notes = [];\n      break;\n  }\n  requestAnimationFrame(this.animate.bind(this));\n};\n\nGameView.prototype.startScreen = function(){\n  this.ctx.clearRect(0, 0, 800, 900);\n  this.ctx.font = \"64px Handlee\";\n  this.ctx.fillStyle = \"black\";\n  this.ctx.fillText(\"Keyboard Hero\", 80, 300);\n  this.retryButton.className = \"hidden\";\n  this.startButton.className= \"show\";\n}\n\nGameView.prototype.setUpListeners = function(){\n  this.startButton = document.getElementById(\"start\")\n  this.retryButton = document.getElementById('retry')\n  this.startButton.addEventListener('click',this.changePage.bind(this,2))\n  this.retryButton.addEventListener('click',this.changePage.bind(this,1))\n  $('#myModal').on(\"hidden.bs.modal\", this.togglePause.bind(this));\n}\n\nGameView.prototype.togglePause = function(){\n  this.run();\n  var music = document.getElementById('music')\n  this.songStarted();\n  music.addEventListener('canplaythrough', music.play(), false)\n  this.startButton.className = \"hidden\";\n}\n\nGameView.prototype.changePage = function(page){\n  this.page = page\n  var that = this;\n  if(this.page === 2){\n    $(\"#myModal\").modal(\"show\");\n  } else {\n    this.startScreen()\n  }\n}\n\nGameView.prototype.songStarted = function(){\n  this.startTime = new Date().getTime()/1000\n}\n\nmodule.exports = GameView\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./assets/js/gameView.js\n ** module id = 5\n ** module chunks = 0\n **/"],"sourceRoot":""}